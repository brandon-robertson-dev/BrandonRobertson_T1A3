$light-bg: #eeeeee;

.overlay-dark, .overlay-light {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.overlay-dark {
  opacity: 1;
  background-color: rgba(32,32,34,1);
  @include animation-name(fadeLoop);
  @include animation-duration(15s);
  @include animation-timing-function(ease);
  @include animation-delay(1s);
  @include animation-direction(normal);
}

@include keyframes(fadeLoop) {
  0% { opacity: 1; }
  3%, 97% { opacity: 0; }
  100% { opacity: 1; }
}

.overlay-light {
  opacity: 0;
  background-color: $light-bg;
  @include animation(fadeOut 15s ease-in 1s 1);
}

@include keyframes(fadeOut) {
  0%, 5% {
    opacity: 1;
  }
  6%, 100% {
    opacity: 0;
  }
}

.highlight {
  position: relative;
  width: 200px;
  height: 200px;
  margin: 40px auto;
  @include transform(rotate(45deg));
  @include background-image(linear-gradient(top right, #FF8080, yellow, #FF8080));
  
  .shadow {
    position: relative;
    top: 4px;
    left: 4px;
    width: 200px;
    height: 200px;
    @include background-image(linear-gradient(top right, #800000, #875A00, #800000));
  }
  
  .bigbox {
    position: relative;
    bottom: 2px;
    right: 2px;
    width: 200px;
    height: 200px;
    @include background-image(linear-gradient(top right, rgb(255,0,0), #FFAA00, rgb(255,0,0)));
    
    .inner-top {
      position: absolute;
      top: 20px;
      left: 80px;
      width: 80px;
      height: 80px;
      opacity: 0;
      @include background-image(linear-gradient(top right, rgba(255,0,0,0) 0%, rgba(255,170,0,0) 50%, rgba(255,170,0,1) 51%, rgba(255,0,0,1) 100%));
      @include animation(slideTop 1s ease 3s 1);
      @include animation-fill-mode(forwards);
      
    }

    .inner-bottom {
      position: absolute;
      right: 80px;
      bottom: 20px;
      width: 80px;
      height: 80px;
      opacity: 0;
      @include background-image(linear-gradient(top right, rgba(255,0,0,1), rgba(255,170,0,1) 50%, rgba(255,170,0,0) 51%, rgba(255,0,0,0)));
      @include animation(slideBottom 1s ease 3s 1);
      @include animation-fill-mode(forwards);
    }
  }
}

@include keyframes(slideTop) {
  from {
    opacity: 0;
    left: 80px;
  }
  to {
    opacity: 1;
    left: 25px;
  }
}

@include keyframes(slideBottom) {
  from {
    opacity: 0;
    right: 80px;
  }
  to {
    opacity: 1;
    right: 25px;
  }
}